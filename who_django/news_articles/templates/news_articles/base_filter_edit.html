{% extends 'news_articles/base_filter.html' %}
{% block content %}
	<div class="page-header">
		<h1><a href="/">News Articles</a></h1>
    	</form>
	</div>

	<div class="content container">
        <div class="row">
            <div class="col-md-12">

            	{% if save_message %}
            	<p id="save_message" style="display:None;" class="text-center">{{ save_message }}</p>
				{% endif %}

				<div class="pagination"><strong>
						{% if prev_article_pk != article.pk %}
							<a class="btn btn-default" href="{% url 'article_edit' pk=prev_article_pk %}"><span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span></a>
						{% else %}
							<a class="btn btn-default" disabled="disabled"><span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span></a>
						{% endif %}
						{% if next_article_pk != article.pk %}
						    <a class="btn btn-default" href="{% url 'article_edit' pk=next_article_pk %}"><span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span></a></button>
						{% else %}
						    <a class="btn btn-default" disabled><span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span></a></button>
						{% endif %}
					</span>
					<hr>
				</strong></div>

			    <h1>Article Details</h1>
			    {% if article.news_type == "text" %}
				    <div class="post">
					    <p>{{ article.title }}</p>
					    <p><strong>order id: </strong>{{ article.order_id }}
					    <p><strong>relevance score: </strong>{{ article.relevance_ranking }}</p>
					    <p><strong>date: </strong>{{ article.date }}</p>
					    <p><strong>source: </strong>{{ article.source }}</p>
					    <p><strong>link: </strong><a href = "{{ article.link }}">{{ article.link }}</a></p>
					    <p><strong>article:</strong> {{ article.article|linebreaks }}</p>
					    <p><strong>author: </strong>{{ article.author }}</p>
					    <p><strong>location: </strong>{{ article.location }}</p>
					    <p><strong>accident_count: </strong>{{ article.accident_count }}</p>
					    <p><strong>byline: </strong>{{ article.byline }}</p>
					    <p><strong>language: </strong>{{ article.language }}</p>
					    <p><strong>kicker: </strong>{{ article.kicker }}</p>
					    <hr>
					</div>
				{% elif article.news_type == "video" %}
					<div class="post">
					    <p>{{ article.title }}</p>
					    <p><strong>order id: </strong>{{ article.order_id }}
					    <p><strong>relevance score: </strong>{{ article.relevance_ranking }}</p>
					    <p><strong>date: </strong>{{ article.date }}</p>
					    <p><strong>source: </strong>{{ article.source }}</p>
					    <p><strong>link: </strong><a href = "{{ article.link }}">{{ article.link }}</a></p>
					    <p><strong>accident_count: </strong>{{ article.accident_count }}</p>
					    <p><strong>language: </strong>{{ article.language }}</p>
					    <p><strong>duration: </strong>{{ article.duration }}</p>
					    <p><strong>view count: </strong>{{ article.view_count }}</p>
					    <p><strong>like count: </strong>{{ article.like_count }}</p>
					    <p><strong>comment count: </strong>{{ article.comment_count }}</p>
					    <p><strong>favorite count: </strong>{{ article.favorite_count }}</p>
					    <p><strong>dislike count: </strong>{{ article.dislike_count }}</p>
					    <hr>
					</div>
				{% endif %}
				<h1>Article Survey</h1>

			    <form method="POST">
			    <div class="form-group">
			    	{% csrf_token %}
			    	{% for field in form %}
			    		{% if "province" in field.label %}
			    			<p><strong>10. What's the location of the road crash?</strong></p>
			    		{% endif %}

			    		{% if field.label == "Others" %}
			    			<ul><li><strong>{{ field.label }}</strong> {{ field }}</li></ul>

			    		{% elif field.label == "6b. How many of the fatalities were described in further detail and how?" %}
			    			<p><strong>{{ field.label }}</strong><br/>
			    			<textarea cols="75" id="id_killed_reported" name="killed_reported" rows="7" placeholder="Place details here."></textarea></p>

			    		{% elif field.label == "7b. How many of the injured were described in further detail and how?" %}
			    		    <p><strong>{{ field.label }}</strong><br/>
			    		    <textarea cols="75" id="id_injured_reported" name="injured_reported" rows="7" placeholder="Place details here."></textarea></p>

			    		{% else %}
			    			<p><strong>{{ field.label }}</strong> {{ field }}</p>
			    		{% endif %}

			    	{% endfor %}
			        <button id="show_button" type="submit" class="btn btn-default">Save</button>
			        <p id="show_message" style="display:None;">Saved!</p>
			    </div>
			    </form>

			    <script>
					$( document ).ready(function() {
					  $( "#save_message" ).show( "slow" );
					});
				</script>

				<div class="pagination"><strong>
						{% if prev_article_pk != article.pk %}
							<a class="btn btn-default" href="{% url 'article_edit' pk=prev_article_pk %}"><span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span></a>
						{% else %}
							<a class="btn btn-default" disabled="disabled"><span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span></a>
						{% endif %}
						{% if next_article_pk != article.pk %}
						    <a class="btn btn-default" href="{% url 'article_edit' pk=next_article_pk %}"><span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span></a></button>
						{% else %}
						    <a class="btn btn-default" disabled><span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span></a></button>
						{% endif %}
					</span>
					<hr>
				</strong></div>

            </div>
        </div>
    </div>
{% endblock %}
